<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ржорж╛рж╕рж┐ржХ ржЦрж░ржЪ рж░рж┐ржкрзЛрж░рзНржЯ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    @media print { .no-print { display: none; } }
  </style>
</head>
<body class="container mt-4">
  <div class="no-print mb-3">
    <form method="GET" class="row g-2">
      <div class="col-auto">
        <select name="month" class="form-control">
          {% for m in range(1, 13) %}
          <option value="{{ m }}" {% if m == month %}selected{% endif %}>{{ m }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-auto">
        <select name="year" class="form-control">
          {% for y in range(2020, 2030) %}
          <option value="{{ y }}" {% if y == year %}selected{% endif %}>{{ y }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary">ржжрзЗржЦрзБржи</button>
        <button onclick="window.print()" class="btn btn-success">ЁЯЦия╕П Print</button>
        <a href="{{ url_for('manage_expenses') }}" class="btn btn-secondary">тмЕя╕П Back</a>
      </div>
    </form>
  </div>

  <div class="text-center mb-4">
    <h3>ржЖрж▓-ржЗржирж╕рж╛ржл ржХрзНрж╖рзБржжрзНрж░ ржмрзНржпржмрж╕рж╛ржпрж╝рзА рж╕ржоржмрж╛ржпрж╝ рж╕ржорж┐рждрж┐ рж▓рж┐:</h3>
    <h5>ржорж╛рж╕рж┐ржХ ржЦрж░ржЪ рж░рж┐ржкрзЛрж░рзНржЯ</h5>
    <p>{{ month_name }} {{ year }}</p>
  </div>

  <div class="row mb-4">
    <div class="col-md-3">
      <div class="card p-2 text-center">
        <small>ЁЯСиЁЯТ╝ Salary</small>
        <h5>рз│{{ "%.2f"|format(salary_total or 0) }}</h5>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-2 text-center">
        <small>ЁЯПв Office</small>
        <h5>рз│{{ "%.2f"|format(office_total or 0) }}</h5>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-2 text-center">
        <small>ЁЯЪЧ Transport</small>
        <h5>рз│{{ "%.2f"|format(transport_total or 0) }}</h5>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-2 text-center bg-danger text-white">
        <small>ржорзЛржЯ</small>
        <h5>рз│{{ "%.2f"|format(total or 0) }}</h5>
      </div>
    </div>
  </div>

  <table class="table table-bordered table-sm">
    <thead class="table-dark">
      <tr>
        <th>рждрж╛рж░рж┐ржЦ</th>
        <th>Category</th>
        <th>Description</th>
        <th class="text-end">Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for exp in expenses %}
      <tr>
        <td>{{ exp.date.strftime('%d-%m-%Y') }}</td>
        <td>
          {% if exp.category == 'Salary' %}ЁЯСиЁЯТ╝ Salary
          {% elif exp.category == 'Office' %}ЁЯПв Office
          {% elif exp.category == 'Transport' %}ЁЯЪЧ Transport
          {% else %}ЁЯУж Other{% endif %}
        </td>
        <td>{{ exp.description or '-' }}</td>
        <td class="text-end">рз│{{ "%.2f"|format(exp.amount or 0) }}</td>
      </tr>
      {% endfor %}
      <tr class="table-primary fw-bold">
        <td colspan="3" class="text-end">ржорзЛржЯ ржЦрж░ржЪ:</td>
        <td class="text-end">рз│{{ "%.2f"|format(total or 0) }}</td>
      </tr>
    </tbody>
  </table>

  <div class="mt-5 text-center">
    <p>_____________________</p>
    <p>Authorized Signature</p>
  </div>
</body>
</html>
